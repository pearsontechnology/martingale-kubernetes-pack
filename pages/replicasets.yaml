$type: HeaderPage
props:
  title:
    $map: '`${params.namespace} - Replicasets`'
children:
  $type: Panel
  children:
    $type: Provider
    props:
      provide:
        data:
          url:
            $map: >-
              (params.env?`/api/${params.env}/kube`:"/api/kube")+`/apis/extensions/v1beta1/namespaces/${params.namespace}/replicasets`
          root: items
          mapper:
            $mapper: |-
              props.map((ds)=>{
                const md = ds.metadata;
                return {
                  baseLink: params.env?`/kubernetes/${params.env}`:'/kubernetes',
                  name: md.name,
                  namespace: md.namespace,
                  created: md.creationTimestamp,
                  labels: md.labels
                };
              })
      Component:
        $component: ActionTable
      props:
        suppress:
          - baseLink
        actions:
          - link:
              $mapper: >-
                `${props.baseLink}/namespace/${params.namespace}/replicaset/${props.name}${extractQueryParams(['apiBase'])}`
            caption: Details
            btnStyle: primary
paths:
  - /kubernetes/namespace/:namespace/replicasets
  - /kubernetes/:env/namespace/:namespace/replicasets
