$type: HeaderPage
props:
  title:
    $map: '`${params.namespace} - Daemonsets`'
children:
  $type: Panel
  children:
    $type: Provider
    props:
      provide:
        data:
          url:
            $map: >-
              (params.env?`/api/${params.env}/kube`:"/api/kube")+`/apis/extensions/v1beta1/namespaces/${params.namespace}/daemonsets`
          root: items
          mapper:
            $mapper: |-
              props.map((ds)=>{
                const md = ds.metadata;
                return {
                  baseLink: params.env?`/kubernetes/${params.env}`:'/kubernetes',
                  name: md.name,
                  namespace: md.namespace,
                  created: md.creationTimestamp,
                  labels: md.labels
                };
              })
      Component:
        $component: ActionTable
      props:
        suppress:
          - baseLink
        actions:
          - link: ${baseLink}/namespace/${namespace}/daemonset/${name}
            caption: Details
            btnStyle: primary
paths:
  - /kubernetes/namespace/:namespace/daemonsets
  - /kubernetes/:env/namespace/:namespace/daemonsets
